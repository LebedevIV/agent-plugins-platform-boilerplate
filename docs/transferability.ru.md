# Инструкция по переносу окружения и best practices для разработчиков

---
Основной репозиторий проекта: https://github.com/LebedevIV/agent-plugins-platform-boilerplate
---

## 1. Клонирование сторонних репозиториев как submodule

**Зачем:**
- Позволяет анализировать внешний код в рамках одного монорепозитория, не смешивая git-истории.
- Упрощает навигацию, сравнение, обновление шаблонов и best practices.
- Позволяет Cursor и другим инструментам индексировать весь код для поиска и AI-анализа.

**Как добавить submodule:**

```bash
# Клонировать внешний репозиторий как submodule в папку external/имя:
git submodule add <URL> external/<имя>
git submodule update --init --recursive
```

**Как обновить submodule:**

```bash
cd external/<имя>
git fetch
git checkout <branch_or_tag>
cd ../..
git add external/<имя>
git commit -m "update submodule <имя>"
```

**Как удалить submodule:**

```bash
git submodule deinit -f external/<имя>
git rm -f external/<имя>
rm -rf .git/modules/external/<имя>
```

**Возможности:**
- Быстрый доступ к коду для анализа, сравнения, копирования решений.
- Возможность отслеживать upstream-изменения и обновлять шаблоны.
- Использование внешних best practices без смешивания с основной историей проекта.

---

## 2. Рекомендуемый перечень данных для базы знаний Cursor/AI

**Зачем:**
- Позволяет быстро восстановить или перенести рабочее окружение.
- Гарантирует, что AI-ассистент и команда будут учитывать все важные нюансы проекта.
- Упрощает onboarding новых участников и автоматизацию.

**Что рекомендуется сохранять:**

- **Операционная система:**
  - Пример: Manjaro Linux (Plasma), macOS, Windows 11
- **Версия браузера:**
  - Пример: Chrome 138.0.7204.100 (Flatpak)
- **IDE и инструменты:**
  - Пример: Cursor, VSCode, WebStorm
  - Установленные расширения Cursor (если есть)
- **Связанные репозитории:**
  - Основной проект, внешние submodules, шаблоны, тестовые репозитории
- **Наличие git CLI:**
  - Версия git, особенности конфигурации (user.name, user.email, hooks)
- **Правила языка и коммуникации:**
  - Пример: Всегда отвечать на русском языке
  - Язык документации (например, английский для config)
- **Правила git-ветвления:**
  - develop — основная ветка разработки
  - feature/… — новые фичи
  - fix/… — багфиксы
  - merge только через pull request
- **Стандарты и best practices:**
  - ESM-only для внутренних пакетов
  - Стандарты для package.json (main, exports)
  - Использование chrome.storage.sync вместо localStorage
  - React 19+, Vite 6+, @vitejs/plugin-react-swc
  - Проверка единственной версии react/react-dom
- **Инструменты для отладки:**
  - Debugger for Chrome (Flatpak, remote-debugging-port)
  - Composer Web
  - Рекомендации по запуску и инспекции расширения
- **Особенности окружения:**
  - Как запускать Chrome с нужными флагами
  - Как инспектировать боковую панель/вкладку расширения
- **AI-правила:**
  - Всегда проявлять инициативу, предлагать улучшения, критиковать конструктивно
  - Сохранять все важные правила и environment в AI memory-bank

**Пример запроса для сохранения в базе знаний:**

> Сохрани в базе знаний: Manjaro Linux (Plasma), Chrome 138 (Flatpak), Cursor, английский для config, всегда отвечать на русском, develop/feature/fix-ветки, ESM-only, Debugger for Chrome, Composer Web, инспекция sidepanel через ПКМ, инициативность ассистента.

---

**Рекомендация:**
- После переустановки IDE или смены окружения — первым делом восстановить эти данные в базе знаний AI/assistent, чтобы не потерять контекст и правила работы. 