# Паттерны работы с датами и временем

## Проблема
AI-ассистенты не могут самостоятельно получать актуальную дату и время, что приводит к использованию устаревших дат в документации.

## Решение: Использование системных команд

### Получение текущей даты
```bash
# Текущая дата в формате YYYY-MM-DD
date +"%Y-%m-%d"

# Текущая дата и время
date +"%Y-%m-%d %H:%M:%S"

# Текущая дата на русском языке
date +"%d %B %Y"
```

### Получение времени
```bash
# Только время
date +"%H:%M:%S"

# Время с часовым поясом
date +"%H:%M:%S %Z"
```

## Паттерны для AI-ассистентов

### 1. При создании документации
```bash
# Всегда получать актуальную дату перед созданием документации
current_date=$(date +"%Y-%m-%d")
echo "Current date: $current_date"
```

### 2. При обновлении существующей документации
```bash
# Проверять, не устарели ли даты в документации
# Если дата старая - обновлять с актуальной
```

### 3. При создании коммитов
```bash
# Использовать актуальную дату в сообщениях коммитов
git commit -m "feat: new feature - $(date +"%Y-%m-%d")"
```

## Форматы дат для разных целей

### Документация (YYYY-MM-DD)
- `2025-07-12` - стандартный формат для документации
- Используется в memory-bank, README, технической документации

### Коммиты (YYYY-MM-DD)
- `2025-07-12` - для сообщений коммитов
- Краткий и понятный формат

### Пользовательский интерфейс
- `12 июля 2025` - для пользовательского интерфейса
- Локализованный формат

### Логирование
- `2025-07-12 14:30:25` - полный формат с временем
- Для системных логов и отладки

## Проверочный список

### ✅ Перед созданием документации
- [ ] Получить актуальную дату командой `date +"%Y-%m-%d"`
- [ ] Использовать полученную дату в документации
- [ ] Проверить формат даты (YYYY-MM-DD)

### ✅ При обновлении документации
- [ ] Проверить даты в существующих файлах
- [ ] Обновить устаревшие даты
- [ ] Убедиться в консистентности форматов

### ✅ При работе с пользователем
- [ ] Уточнить дату, если есть сомнения
- [ ] Использовать понятные пользователю форматы
- [ ] Объяснить, почему используется системная дата

## Примеры использования

### Создание нового этапа в progress.md
```bash
current_date=$(date +"%Y-%m-%d")
echo "### ✅ Этап X: Описание (Завершен - $current_date)"
```

### Обновление статуса в errors.md
```bash
current_date=$(date +"%Y-%m-%d")
echo "### Статус"
echo "✅ **РЕШЕНО** - $current_date"
```

### Создание коммита с датой
```bash
current_date=$(date +"%Y-%m-%d")
git commit -m "feat: new feature - $current_date"
```

## Частые ошибки

### ❌ Неправильно
- Использование устаревших дат из контекста
- Разные форматы дат в одном документе
- Отсутствие проверки актуальности дат

### ✅ Правильно
- Использование `date` команды для получения актуальной даты
- Консистентный формат YYYY-MM-DD
- Регулярная проверка и обновление дат

## Интеграция с Cursor IDE

### Project Rules
Добавить в project rules:
```
- Always use system date commands for current date/time
- Format dates as YYYY-MM-DD in documentation
- Validate dates before using in documentation
```

### Saved Memories
Создать memory:
```
Date/Time Pattern: Use 'date +"%Y-%m-%d"' command to get current date
Format: Always use YYYY-MM-DD format in documentation
Validation: Check dates before using in documentation
```

## Автоматизация

### Скрипт для проверки дат
```bash
#!/bin/bash
# check-dates.sh
current_date=$(date +"%Y-%m-%d")
echo "Current date: $current_date"

# Проверка дат в документации
grep -r "2024-" docs/ memory-bank/ 2>/dev/null | head -5
echo "Found old dates above. Consider updating them."
```

### Git hook для проверки дат
```bash
#!/bin/bash
# .git/hooks/pre-commit
current_date=$(date +"%Y-%m-%d")
echo "Current date: $current_date"
echo "Please ensure all dates in documentation are current."
``` 